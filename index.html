<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Million Dollar Image</title>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script defer src="/__/firebase/8.3.1/firebase.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/8.3.1/firebase-database.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css">
    <link rel="stylesheet" type="text/css" href="css/index.css" media="screen" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"> -->
    <!-- Ensures optimal rendering on mobile devices. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge" /> <!-- Optimal Internet Explorer compatibility -->
    <!-- <script defer src="js/paypal.js"></script> -->
    <script defer src="js/main.js"></script>
</head>

<body>
    <script
        src="https://www.paypal.com/sdk/js?client-id=AS-PiHXbpimDzYb1oOdcmnL7wkPRDlv1ShGJJcmnNvGG29LCuHEpGlZzNaIgASePBGWXTd44DGpdaNNG"> // Required. Replace YOUR_CLIENT_ID with your sandbox client ID.
            // Add your client ID and secret
            const creds = require("./creds.json");
            var PAYPAL_CLIENT = 'AS-PiHXbpimDzYb1oOdcmnL7wkPRDlv1ShGJJcmnNvGG29LCuHEpGlZzNaIgASePBGWXTd44DGpdaNNG';
            var PAYPAL_SECRET = "";
            // Point your server to the PayPal API
            var PAYPAL_ORDER_API = 'https://api-m.paypal.com/v2/checkout/orders/';
        </script>

    <nav class="navbar" role="navigation" aria-label="main navigation">
        <div class="navbar-brand">
            <div class="navbar-item" id="chatIcon" name="closed" style="z-index: 99999;">
                <img src="images/chat.svg" id="chatIconImg" width="36" height="28">
            </div>

            <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false"
                data-target="navbarBasicExample">
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
                <span aria-hidden="true"></span>
            </a>
        </div>

        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-end">
                <div class="navbar-item">
                    <div class="buttons">
                        <a href="archive.html" class="button is-light">
                            Archive
                        </a>
                        <a class="button is-primary" onclick="toggleModal()">
                            Bid
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <script>
        function toggleModal() {
            document.getElementById("modal").classList.add('is-active');
        }

        function closeModal() {
            document.getElementById("modal").classList.remove('is-active');
        }
    </script>

    <div class="modal" id="modal">
        <div class="modal-background"></div>
        <div class="modal-card">
            <header class="modal-card-head">
                <button class="delete" aria-label="close" onclick="closeModal()" style="margin-left: 97.5%;"></button>
            </header>
            <section class="modal-card-body">
                <h1 class="title is-3">##.## Dollar Image</h1>
                <form>
                    <label for="imageURL">Paste an image URL or </label><input type="file"><br>
                    <input type="url" id="imageURL" name="imageURL"><br><br>
                    <label for="link">What's your ~magical~ link?</label><br>
                    <input type="url" id="link" name="link" required><br><br>
                    <label for="displayName">Display name (optional)</label><br>
                    <input type="text" id="displayName" name="displayName"><br><br>
                    <label for="price">Enter Bid</label><br>
                    <input type="text" id="price" name="price"><br><br>
                    <div id="paypal-button-container" style="width: 30%;"></div>
                </form>
            </section>
            <footer class="modal-card-foot">
                <button class="button is-primary" onclick="addToDatabase();"
                    style="margin-left: 45%; width: 10%;">Checkout</button>
            </footer>
        </div>
    </div>

    <section class="section" id="mainsect">
        <div class="column is-one-quarter" id="livechat" style="display: none;">
            <div id="chat">hi</div>
            <input cols="50" class="is-small" type="text" width="100%" id="chatDisplayName"
                placeholder="Display Name (optional)"></input>
            <textarea cols="50" class="is-small" id="chatbox" placeholder="Type your message"></textarea>
        </div>
        <div class="container" id="mainContainer"></div>
    </section>
</body>

</html>